## Регистрация
#### POST запрос 
#### Адрес: http://localhost:8080/api/auth/register
#### Тип контента: JSON
#### Пример тела запроса:
```json
{
    "name":"Никита",
    "surname":"Кудашко",
    "mail":"boba@mail.ru",
    "password":"aboba"
}
```
#### Варианты ответа:
```json
{
  "status":"ОШИБКА: почта занята!"
}
```
```json
{
  "status":"Пользователь создан!"
}
```

## Авторизация
#### POST запрос
#### Адрес: http://localhost:8080/api/auth/login
#### Тип контента: JSON
#### Пример тела запроса:
```json
{
    "mail":"boba@mail.ru",
    "password":"aboba"
}
```
#### Варианты ответа:
```json
{
  "status":"ОШИБКА: неверная почта!"
}
```
```json
{
    "user": {
        "id": 1,
        "name": "Никита",
        "surname": "Кудашко",
        "mail": "boba@mail.ru",
        "freeAttempts": 3,
        "status": "MASTER",
        "subscribedUntil": "2024-07-23"
    }
}
```
```json
{
    "timestamp": "2024-05-01T18:21:56.375+00:00",
    "status": 403,
    "error": "Forbidden",
    "path": "/api/auth/signin"
}
```
Последний вариант приходит если неверный пароль, это так просто не пофиксишь к сожалению, 
можешь смотреть так, что если пришёл статус 403, значит говорить пользователю, что пароль неверный,
потому что это единственный вариант, когда статус может быть 403

## Подключение подписки
#### POST запрос
#### Адрес: http://localhost:8080/api/ai/subscribe
#### Тип контента: JSON
#### Пример тела запроса:
```json
{
    "userId":1,
    "plan":"MASTER"
}
```
Здесь и далее userId для отправки запроса нужно брать из localstorage
Поле plan может принимать только одно из следующих значений:
* "LITE"
* "MASTER"
* "AI"
Соответственно первый вариант на 1 месяц, второй на 3 и последний на 12
#### Варианты ответа:
```json
{
  "status":"ОШИБКА: пользователь не существует!"
}
```
```json
{
    "user": {
        "id": 1,
        "name": "Никита",
        "surname": "Кудашко",
        "mail": "boba@mail.ru",
        "freeAttempts": 3,
        "status": "MASTER",
        "subscribedUntil": "2024-07-23"
    }
}
```
(Приходит информация о пользователе с обновлённой подпиской. Этот JSON нужно сохранить вместо прошлого)\
```json
{
  "status":"ОШИБКА: неверная подписка!"
}
```
Это может прийти если значение "plan" было отличным от тех трёх, что я описал выше

## Запрос к нейронке
#### POST запрос
#### Адрес: http://localhost:8080/api/ai/predict
#### Тип контента: form data
#### Тело запроса:
* file - картинка МРТ
* id - айди юзера
Тут как обычно названия полей должны быть именно такими
#### Варианты ответа:
```json
{
  "status":"ОШИБКА: подписка истекла и бесплатные попытки закончились!"
}
```
```json
{
  "status":"ОШИБКА: бесплатные попытки закончились!"
}
```
```json
{
  "status":"ОШИБКА: пользователь не существует!"
}
```
```json
{
    "result": "Опухоль гипофиза"
}
```
Последний вариант имеет следующие варианты значения поля result:
* "Глиома"
* "Менингиома" (кстати нашёл у себя в коде ошибку. в классе AiService примерно на 64 строке стоит лишний пробел ря
дом с этим вариантом. сотри его)
* "Опухоль гипофиза"
* "Опухолей нет"

## Получение последних трёх результатов диагностики
#### GET запрос (не POST!)
#### Адрес: http://localhost:8080/api/ai/history
#### Тип контента: JSON
#### Пример тела запроса:
```json
{
"userId":1
}
```
#### Пример ответа:
```json
[
    {
        "id": 20,
        "userId": 1,
        "result": "Опухоль гипофиза",
        "date": "01.05.2024 18:35"
    },
    {
        "id": 19,
        "userId": 1,
        "result": "Рак жопы(шучу)",
        "date": "01.05.2024 18:34"
    },
    {
        "id": 18,
        "userId": 1,
        "result": "Опухолей нет",
        "date": "01.05.2024 18:33"
    }
]
```